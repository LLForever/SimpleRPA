FROM openjdk:8
ENV LANG zh_CN.UTF-8
# 其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp
VOLUME /tmp
# 将jar包添加到容器中并更名
workdir .
COPY rpa-service.jar .
COPY google-chrome-stable_current_amd64.deb .
COPY chromedriver /usr/local/bin
RUN apt-get update
RUN apt-get install locales -y
RUN echo 'zh_CN.UTF-8 UTF-8' >> /etc/locale.gen
RUN locale-gen
RUN apt-get install fonts-arphic-ukai -y
RUN chmod 777 google-chrome-stable_current_amd64.deb
RUN chmod 777 /usr/local/bin/chromedriver
RUN apt install ./google-chrome-stable_current_amd64.deb -y
ENTRYPOINT ["java","-jar","./rpa-service.jar"]